#!/bin/sh

cd ~/projects

for PROJECT in *
do
  if [ -d $PROJECT/.git ]; then
    cd $PROJECT
    STATUS=`git st`
    case $STATUS in
      "## master")
        ;;
      *)
        echo
        echo $PROJECT
        git st
        ;;
    esac
    cd ..
  fi
  if [ -f $PROJECT/Gemfile ]; then
    for REQUIRED_GEM in wirble hirb
    do
      if [ -z "`cat $PROJECT/Gemfile | grep $REQUIRED_GEM`" ]; then
        echo "$PROJECT: \"$REQUIRED_GEM\" gem not included in Gemfile"
      fi
    done
  fi
done
echo

